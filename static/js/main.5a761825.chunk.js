(this.webpackJsonpreceitas=this.webpackJsonpreceitas||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(8),c=n.n(r),s=(n(14),n(19)),i=(n(15),n(2)),u=Object(a.createContext)({}),o=n(3),j=n.n(o),d=n(5);function l(e){return b.apply(this,arguments)}function b(){return(b=Object(d.a)(j.a.mark((function e(t){var n,a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://www.themealdb.com/api/json/v1/1/filter.php?i=".concat(t),e.next=3,fetch(n);case 3:return a=e.sent,e.next=6,a.json();case 6:return r=e.sent,e.abrupt("return",r.meals);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=Object(d.a)(j.a.mark((function e(t){var n,a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://www.themealdb.com/api/json/v1/1/search.php?s=".concat(t),e.next=3,fetch(n);case 3:return a=e.sent,e.next=6,a.json();case 6:return r=e.sent,e.abrupt("return",r.meals);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=Object(d.a)(j.a.mark((function e(t){var n,a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://www.themealdb.com/api/json/v1/1/lookup.php?i=".concat(t),e.next=3,fetch(n);case 3:return a=e.sent,e.next=6,a.json();case 6:return r=e.sent,e.abrupt("return",r.meals);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O=n(1);var x=function(e){var t=e.children,n=Object(a.useState)([]),r=Object(i.a)(n,2),c=r[0],s=r[1],o=Object(a.useState)(),j=Object(i.a)(o,2),d=j[0],b=j[1],x=Object(a.useState)([]),f=Object(i.a)(x,2),m=f[0],v=f[1],w=Object(a.useState)({tipo:"",valor:""}),g=Object(i.a)(w,2),y=g[0],I=g[1];return Object(a.useEffect)((function(){""===y.valor&&l("").then((function(e){return s(e)})),"Ingrediente"===y.tipo&&l(y.valor).then((function(e){return s(e)})),"Prato"===y.tipo&&function(e){return p.apply(this,arguments)}(y.valor).then((function(e){return s(e)}))}),[y]),Object(a.useEffect)((function(){(function(e){return h.apply(this,arguments)})(d).then((function(e){return v(e)}))}),[d]),Object(O.jsx)(u.Provider,{value:{resposta:c,setIdIngrediente:b,setTipoDaPesquisa:I,tipoDaPesquisa:y,idResposta:m},children:t})},f=n(4),m=n.p+"static/media/chefe.c9d0c3ce.png";function v(){var e=Object(a.useContext)(u).setTipoDaPesquisa,t=Object(a.useState)({}),n=Object(i.a)(t,2),r=n[0],c=n[1];return Object(O.jsxs)("div",{className:"fullHeader",children:[Object(O.jsxs)("div",{className:"header",children:[Object(O.jsx)("img",{src:m,alt:"chefe",width:"120"}),Object(O.jsx)("h1",{children:"Receitas do Mundo"}),Object(O.jsx)("p",{children:"Pesquise as melhores receitas da internet aqui!"})]}),Object(O.jsxs)("form",{onSubmit:function(t){return t.preventDefault(),e(r)},children:[Object(O.jsx)("span",{children:"Pesquisar por:"}),Object(O.jsxs)("label",{children:[Object(O.jsx)("input",{type:"radio",name:"search",value:"Prato",onChange:function(e){return c(Object(f.a)(Object(f.a)({},r),{},{tipo:e.target.value}))}}),"Prato"]}),Object(O.jsxs)("label",{children:[Object(O.jsx)("input",{type:"radio",name:"search",value:"Ingrediente",onChange:function(e){return c(Object(f.a)(Object(f.a)({},r),{},{tipo:e.target.value}))}}),"Ingrediente"]}),Object(O.jsx)("input",{type:"text",placeholder:"Pesquise seu prato",onChange:function(e){return c(Object(f.a)(Object(f.a)({},r),{},{valor:e.target.value}))}}),Object(O.jsx)("input",{type:"submit",value:"Pesquisar"})]})]})}function w(){var e=Object(a.useContext)(u),t=e.resposta,n=e.setIdIngrediente,r=Object(s.d)();return Object(O.jsxs)("div",{className:"menuPrincipal",children:[Object(O.jsx)(v,{}),t?t.map((function(e){return Object(O.jsxs)("card",{className:"cards",onClick:function(){r("/receita"),n(e.idMeal)},children:[Object(O.jsx)("p",{className:"textoPrato",children:e.strMeal}),Object(O.jsx)("img",{src:e.strMealThumb,alt:e.strMeal,width:"160"})]},e.idMeal)})):Object(O.jsx)("h4",{children:" Tentamos, mas n\xe3o encontramos nada :( "})]})}function g(e){var t=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return t&&11===t[2].length?t[2]:null}function y(e){for(var t=[],n=1;n<=20;n+=1)t.push({nome:e["strIngredient".concat(n)],quantidade:e["strMeasure".concat(n)],index:n});return t.filter((function(e){return e.nome}))}function I(){var e=Object(s.d)(),t=Object(a.useContext)(u).idResposta;return Object(O.jsxs)("div",{className:"paginaDetalhes",children:[Object(O.jsx)("input",{type:"button",onClick:function(){return e("/")},value:"Voltar"}),t.map((function(e){return Object(O.jsxs)("div",{children:[Object(O.jsx)("img",{"data-testid":"recipe-photo",src:"".concat(e.strMealThumb),alt:"",width:"400"}),Object(O.jsxs)("p",{"data-testid":"recipe-title",children:["Receita de: ",e.strMeal]}),Object(O.jsxs)("p",{"data-testid":"recipe-category",children:["Categoria: ",e.strCategory]}),Object(O.jsxs)("p",{"data-testid":"instructions",children:["Instru\xe7\xf5es: ",e.strInstructions]}),Object(O.jsx)("h4",{children:"Ingredientes: "}),Object(O.jsx)("ul",{children:y(e).map((function(e){return Object(O.jsxs)("li",{"data-testid":"".concat(e.index,"-ingredient-name-and-measure"),children:[e.nome,"-",e.quantidade]},e.nome)}))}),Object(O.jsx)("h4",{children:"N\xe3o conseguiu acompanhar as instru\xe7\xf5es? Veja o v\xeddeo e simplifique ainda mais!"}),Object(O.jsx)("iframe",{"data-testid":"video",width:"560",height:"315",title:"video",src:"//www.youtube.com/embed/".concat(g(e.strYoutube)),frameBorder:"0",allowFullScreen:!0}),Object(O.jsx)("input",{type:"button","data-testid":"share-btn",value:"Compartilhar"}),Object(O.jsx)("input",{type:"button","data-testid":"favorite-btn",value:"Favoritar"}),Object(O.jsx)("input",{type:"button","data-testid":"start-recipe-btn",value:"Iniciar Receita"})]},e.idMeal)}))]})}var P=function(){return Object(O.jsx)(x,{children:Object(O.jsx)(s.a,{children:Object(O.jsxs)(s.c,{children:[Object(O.jsx)(s.b,{exact:!0,path:"/",element:Object(O.jsx)(w,{})}),Object(O.jsx)(s.b,{path:"/receita",element:Object(O.jsx)(I,{})})]})})})};c.a.render(Object(O.jsx)(P,{}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.5a761825.chunk.js.map